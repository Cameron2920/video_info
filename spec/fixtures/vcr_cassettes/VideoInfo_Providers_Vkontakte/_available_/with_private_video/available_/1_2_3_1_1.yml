---
http_interactions:
- request:
    method: get
    uri: http://new.vk.com/video39576223_166315543
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - new.vk.com
  response:
    status:
      code: 302
      message: Found
    headers:
      Server:
      - Apache
      Date:
      - Tue, 16 Aug 2016 06:43:05 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '20'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.3847
      Set-Cookie:
      - remixlang=3; expires=Mon, 14 Aug 2017 08:39:10 GMT; path=/; domain=.vk.com
      Pragma:
      - no-cache
      Cache-Control:
      - no-store
      Location:
      - https://new.vk.com/video39576223_166315543
    body:
      encoding: ASCII-8BIT
      string: ''
    http_version: 
  recorded_at: Tue, 16 Aug 2016 06:43:05 GMT
- request:
    method: get
    uri: https://vk.com/video39576223_166315543
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - vk.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Apache
      Date:
      - Mon, 12 Dec 2016 07:16:07 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '5853'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.8402
      Set-Cookie:
      - remixlang=3; expires=Sat, 16 Dec 2017 10:04:40 GMT; path=/; domain=.vk.com
      - remixlhk=3cb7caff29e67fac12; expires=Sat, 09 Dec 2017 15:12:32 GMT; path=/;
        domain=.vk.com
      Pragma:
      - no-cache
      Cache-Control:
      - no-store
      X-Frame-Options:
      - deny
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        PCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgU3RyaWN0Ly9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXN0cmljdC5kdGQiPgo8aHRtbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgeG1sOmxhbmc9ImVuIiBsYW5nPSJlbiI+CjxoZWFkPgo8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPWVkZ2UiIC8+CjxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iL2ltYWdlcy9pY29ucy9mYXZpY29ucy9mYXZfbG9nby5pY28/NSIgLz4KCjxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgaHJlZj0iL2ltYWdlcy9zYWZhcmlfNjAucG5nIj4KPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iNzZ4NzYiIGhyZWY9Ii9pbWFnZXMvc2FmYXJpXzc2LnBuZyI+CjxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgc2l6ZXM9IjEyMHgxMjAiIGhyZWY9Ii9pbWFnZXMvc2FmYXJpXzEyMC5wbmciPgo8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxNTJ4MTUyIiBocmVmPSIvaW1hZ2VzL3NhZmFyaV8xNTIucG5nIj4KCjxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXdpbmRvd3MtMTI1MSIgLz4KPG1ldGEgbmFtZT0iZGVzY3JpcHRpb24iIGNvbnRlbnQ9IiIgLz4KCgo8dGl0bGU+RXJyb3IgfCBWSzwvdGl0bGU+Cgo8bm9zY3JpcHQ+PG1ldGEgaHR0cC1lcXVpdj0icmVmcmVzaCIgY29udGVudD0iMDsgVVJMPS9iYWRicm93c2VyLnBocCI+PC9ub3NjcmlwdD4KCiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL2Nzcy9hbC9mb250c19jbnQuY3NzPzI2OTYwODg4NzAiIC8+CiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL2Nzcy9hbC9jb21tb24uY3NzPzQ5MDcyODY0MyIgLz4KCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KdmFyIHZrID0gewogIGFkc19yb3RhdGVfaW50ZXJ2YWw6IDEyMDAwMCwKICBhbDogcGFyc2VJbnQoJzQnKSB8fCA0LAogIGlkOiAwLAogIGludG5hdDogJzEnID8gdHJ1ZSA6IGZhbHNlLAogIGhvc3Q6ICd2ay5jb20nLAogIGxhbmc6IDMsCiAgcnRsOiBwYXJzZUludCgnJykgfHwgMCwKICB2ZXJzaW9uOiA4MTM0MjM5MjI2MDAsCiAgc3REb21haW5zOiAwLAogIHplcm86IGZhbHNlLAogIGNvbnRsZW46IDU4OTcsCiAgbG9naW5zY2hlbWU6ICdodHRwcycsCiAgaXBfaDogJzg3ZTUxMGE1NjRiYTJmNDhmMCcsCiAgdmNfaDogJ2I0MDE5ZjZmMDEyYmJmMTgzYWYzN2VjNWYyMzE1YzQ5JywKICBuYXZQcmVmaXg6ICcvJywKICBkdDogcGFyc2VJbnQoJzAnKSB8fCAwLAogIGZzOiBwYXJzZUludCgnMTMnKSB8fCAxMywKICB0czogMTQ4MTUyNjk2NywKICB0ejogMTA4MDAsCiAgcGQ6IDAsCiAgcGFkczogMSwKICBjc3NfZGlyOiAnJywKICB2Y29zdDogNywKICB0aW1lOiBbMjAxNiwgMTIsIDEyLCAxMCwgMTYsIDddLAogIHNhbXBsZVVzZXI6IC0xLCBzcGVudExhc3RTZW5kVFM6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogIGExMXk6IDAsCiAgc3RhdHVzRXhwb3J0SGFzaDogJycsCgogIHByX3RwbDogIjxkaXYgY2xhc3M9XCJwciAlY2xzJVwiIGlkPVwiJWlkJVwiPjxkaXYgY2xhc3M9XCJwcl9idFwiPjxcL2Rpdj48ZGl2IGNsYXNzPVwicHJfYnRcIj48XC9kaXY+PGRpdiBjbGFzcz1cInByX2J0XCI+PFwvZGl2PjxcL2Rpdj4iLAoKICBhdWRpb0lubGluZVBsYXllclRwbDogIjxkaXYgY2xhc3M9XCJhdWRpb19pbmxpbmVfcGxheWVyIF9hdWRpb19pbmxpbmVfcGxheWVyIG5vX3NlbGVjdFwiPlxuICA8ZGl2IGNsYXNzPVwiYXVkaW9faW5saW5lX3BsYXllcl9yaWdodFwiPlxuICAgIDxkaXYgY2xhc3M9XCJhdWRpb19pbmxpbmVfcGxheWVyX3ZvbHVtZVwiPjxcL2Rpdj5cbiAgPFwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiYXVkaW9faW5saW5lX3BsYXllcl9sZWZ0XCI+XG4gICAgPGRpdiBjbGFzcz1cImF1ZGlvX2lubGluZV9wbGF5ZXJfcHJvZ3Jlc3NcIj48XC9kaXY+XG4gIDxcL2Rpdj5cbjxcL2Rpdj4iLAoKICB0bnNQaXhlbFR5cGU6ICcnCn07Cgp3aW5kb3cubG9jRG9tYWluID0gdmsuaG9zdC5tYXRjaCgvW2EtekEtWl0rXC5bYS16QS1aXStcLj8kLylbMF07CnZhciBfdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CmlmICgvb3BlcmEvaS50ZXN0KF91YSkgfHwgIS9tc2llIDYvaS50ZXN0KF91YSkgfHwgZG9jdW1lbnQuZG9tYWluICE9IGxvY0RvbWFpbikgZG9jdW1lbnQuZG9tYWluID0gbG9jRG9tYWluOwp2YXIgX19faHRlc3QgPSAobG9jYXRpb24udG9TdHJpbmcoKS5tYXRjaCgvIyguKikvKSB8fCB7fSlbMV0gfHwgJycsIF9fX3RvOwpfX19odGVzdCA9IF9fX2h0ZXN0LnNwbGl0KCcjJykucG9wKCk7CmlmICh2ay5hbCAhPSAxICYmIF9fX2h0ZXN0Lmxlbmd0aCAmJiBfX19odGVzdC5zdWJzdHIoMCwgMSkgPT0gdmsubmF2UHJlZml4KSB7CiAgaWYgKHZrLmFsICE9IDMgfHwgdmsubmF2UHJlZml4ICE9ICchJykgewogICAgX19fdG8gPSBfX19odGVzdC5yZXBsYWNlKC9eKFwvfCEpLywgJycpOwogICAgaWYgKF9fX3RvLm1hdGNoKC9eKFteXD9dKlwucGhwfGxvZ2lufG1vYmlsZSkoW15hLXowLTlcLl18JCkvKSkgX19fdG8gPSAnJzsKICAgIGxvY2F0aW9uLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArICcvJyArIF9fX3RvKTsKICB9Cn0KCnZhciBTdGF0aWNGaWxlcyA9IHsKICAnY29tbW9uLmpzJyA6IHt2OiAxMTM4fSwKICAnZm9udHNfY250LmNzcycgOiB7djogMjY5NjA4ODg3MH0sCidjb21tb24uY3NzJzoge3Y6IDQ5MDcyODY0M30KICAsJ2xhbmczXzAuanMnOnt2OjM2OTJ9LCd2aWRlby5jc3MnOnt2OjIzNDc2MzU3NTV9LCd2aWRlby5qcyc6e3Y6NDI1NDczMzY4NX0sJ3ZpZGVvY2F0LmNzcyc6e3Y6MzcxNDI2NjQyNX0sJ3ZpZGVvY2F0LmpzJzp7djoxNDQ3MDEwNDE0fSwnaW5kZXhlci5qcyc6e3Y6MTY0MDE3OTUwN30sJ3VpX2NvbnRyb2xzLmpzJzp7djoxNjQ2Njg3OTc2fSwndWlfY29udHJvbHMuY3NzJzp7djoyNzk1OTA0MTk0fSwndmlkZW92aWV3LmpzJzp7djoxNzIxNjA2NTg2fSwndmlkZW92aWV3LmNzcyc6e3Y6MTc1MTM0NDE4NH0sJ3ZpZGVvX3VwbG9hZC5qcyc6e3Y6MzY5Njk2OTAyN30sJ3NlYXJjaC5qcyc6e3Y6MTY0MDY0OTkwMH0sJ2dyaWRfc29ydGVyLmpzJzp7djo3MDM3ODk2OTR9LCdzdWdnZXN0ZXIuanMnOnt2OjMxODc2Mjk0NDF9LCd1aV9jb21tb24uY3NzJzp7djozNzIxMzkwMzg3fSwndWlfY29tbW9uLmpzJzp7djozMDY5NzI3NDkwfSwncGFnZS5jc3MnOnt2OjI5MTY4MDk0fSwncGFnZS5qcyc6e3Y6MTgyNzU1NTk2NH0sJ3VuY29tbW9uLmNzcyc6e3Y6MTcxNzk2Njg5M30sJ2F1ZGlvcGxheWVyLmpzJzp7djozOTYwMjU1OTY0fQp9CnZhciBhYnA7Cjwvc2NyaXB0PgoKPGxpbmsgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iL2Nzcy9hbC92aWRlby5jc3M/MjM0NzYzNTc1NSI+PC9saW5rPjxsaW5rIHR5cGU9InRleHQvY3NzIiByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii9jc3MvYWwvdmlkZW9jYXQuY3NzPzM3MTQyNjY0MjUiPjwvbGluaz48bGluayB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvY3NzL3VpX2NvbnRyb2xzLmNzcz8yNzk1OTA0MTk0Ij48L2xpbms+PGxpbmsgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iL2Nzcy9hbC92aWRlb3ZpZXcuY3NzPzE3NTEzNDQxODQiPjwvbGluaz48bGluayB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvY3NzL2FsL3VpX2NvbW1vbi5jc3M/MzcyMTM5MDM4NyI+PC9saW5rPjxsaW5rIHR5cGU9InRleHQvY3NzIiByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii9jc3MvYWwvcGFnZS5jc3M/MjkxNjgwOTQiPjwvbGluaz48bGluayB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvY3NzL2FsL3VuY29tbW9uLmNzcz8xNzE3OTY2ODkzIj48L2xpbms+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2xvYWRlcl9uYXY4MTM0MjM5MjI2MDBfMy5qcyI+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2FsL2NvbW1vbi5qcz8xMTM4XzM5MzM3MTg4MyI+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2xhbmczXzAuanM/MzY5MiI+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2xpYi9weC5qcz9jaD0xIj48L3NjcmlwdD48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvanMvbGliL3B4LmpzP2NoPTIiPjwvc2NyaXB0PjxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9pbmRleCIgLz48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvanMvYWwvdmlkZW8uanM/NDI1NDczMzY4NSI+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2FsL3ZpZGVvY2F0LmpzPzE0NDcwMTA0MTQiPjwvc2NyaXB0PjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9hbC9pbmRleGVyLmpzPzE2NDAxNzk1MDciPjwvc2NyaXB0PjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9saWIvdWlfY29udHJvbHMuanM/MTY0NjY4Nzk3NiI+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2FsL3ZpZGVvdmlldy5qcz8xNzIxNjA2NTg2Ij48L3NjcmlwdD48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvanMvYWwvdmlkZW9fdXBsb2FkLmpzPzM2OTY5NjkwMjciPjwvc2NyaXB0PjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9hbC9zZWFyY2guanM/MTY0MDY0OTkwMCI+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2FsL2dyaWRfc29ydGVyLmpzPzcwMzc4OTY5NCI+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2FsL3N1Z2dlc3Rlci5qcz8zMTg3NjI5NDQxIj48L3NjcmlwdD48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvanMvYWwvdWlfY29tbW9uLmpzPzMwNjk3Mjc0OTAiPjwvc2NyaXB0PjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9hbC9wYWdlLmpzPzE4Mjc1NTU5NjQiPjwvc2NyaXB0PjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9hbC9hdWRpb3BsYXllci5qcz8zOTYwMjU1OTY0Ij48L3NjcmlwdD4KCjwvaGVhZD4KCjxib2R5IG9ucmVzaXplPSJvbkJvZHlSZXNpemUoKSIgY2xhc3M9IiI+CiAgPGRpdiBpZD0ic3lzdGVtX21zZyIgY2xhc3M9ImZpeGVkIj48L2Rpdj4KICA8ZGl2IGlkPSJ1dGlscyI+PC9kaXY+CgogIDxkaXYgaWQ9ImxheWVyX2JnIiBjbGFzcz0iZml4ZWQiPjwvZGl2PjxkaXYgaWQ9ImxheWVyX3dyYXAiIGNsYXNzPSJzY3JvbGxfZml4X3dyYXAgZml4ZWQgbGF5ZXJfd3JhcCI+PGRpdiBpZD0ibGF5ZXIiPjwvZGl2PjwvZGl2PgogIDxkaXYgaWQ9ImJveF9sYXllcl9iZyIgY2xhc3M9ImZpeGVkIj48L2Rpdj48ZGl2IGlkPSJib3hfbGF5ZXJfd3JhcCIgY2xhc3M9InNjcm9sbF9maXhfd3JhcCBmaXhlZCI+PGRpdiBpZD0iYm94X2xheWVyIj48ZGl2IGlkPSJib3hfbG9hZGVyIj48ZGl2IGNsYXNzPSJwciBwcl9iYXcgcHJfbWVkaXVtIiBpZD0iYm94X2xvYWRlcl9wciI+PGRpdiBjbGFzcz0icHJfYnQiPjwvZGl2PjxkaXYgY2xhc3M9InByX2J0Ij48L2Rpdj48ZGl2IGNsYXNzPSJwcl9idCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iYmFjayI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+CgogIDxkaXYgaWQ9InN0bF9sZWZ0Ij48L2Rpdj48ZGl2IGlkPSJzdGxfc2lkZSI+PC9kaXY+CgogIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5kb21TdGFydGVkKCk7PC9zY3JpcHQ+CgogIDxkaXYgY2xhc3M9InNjcm9sbF9maXhfd3JhcCBfcGFnZV93cmFwIiBpZD0icGFnZV93cmFwIj48ZGl2PjxkaXYgY2xhc3M9InNjcm9sbF9maXgiPgogIAoKICA8ZGl2IGlkPSJwYWdlX2hlYWRlcl9jb250IiBjbGFzcz0icGFnZV9oZWFkZXJfY29udCI+CiAgICA8ZGl2IGNsYXNzPSJiYWNrIj48L2Rpdj4KICAgIDxkaXYgaWQ9InBhZ2VfaGVhZGVyX3dyYXAiIGNsYXNzPSJwYWdlX2hlYWRlcl93cmFwIj4KICAgICAgPGEgY2xhc3M9InRvcF9iYWNrX2xpbmsiIGhyZWY9IiIgaWQ9InRvcF9iYWNrX2xpbmsiIG9uY2xpY2s9ImlmIChuYXYuZ28odGhpcywgZXZlbnQsIHtiYWNrOiB0cnVlfSkgPT09IGZhbHNlKSB7IHNob3dCYWNrTGluaygpOyByZXR1cm4gZmFsc2U7IH0iIG9ubW91c2Vkb3duPSJ0bkFjdGl2ZSh0aGlzKSI+PC9hPgogICAgICA8ZGl2IGlkPSJwYWdlX2hlYWRlciIgY2xhc3M9InBfaGVhZDEgcF9oZWFkX2wzIiBzdHlsZT0id2lkdGg6IDk2MHB4Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50Ij4KICAgICAgICAgIDxkaXYgaWQ9InRvcF9uYXYiIGNsYXNzPSJoZWFkX25hdiI+CiAgPGRpdiBjbGFzcz0iaGVhZF9uYXZfaXRlbSBmbF9sIj48YSBjbGFzcz0idG9wX2hvbWVfbGluayBmbF9sICIgaHJlZj0iLyIgYXJpYS1sYWJlbD0iSG9tZSIgYWNjZXNza2V5PSIxIj48ZGl2IGNsYXNzPSJ0b3BfaG9tZV9sb2dvIj48L2Rpdj48L2E+PC9kaXY+CiAgPGRpdiBjbGFzcz0iaGVhZF9uYXZfaXRlbSBmbF9sIj48ZGl2IGlkPSJ0c193cmFwIiBjbGFzcz0idHNfd3JhcCIgb25tb3VzZW92ZXI9IlRvcFNlYXJjaC5pbml0RnJpZW5kc0xpc3QoKTsiPgogIDxpbnB1dCBuYW1lPSJkaXNhYmxlLWF1dG9maWxsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIC8+CiAgPGlucHV0IHR5cGU9InRleHQiIG9ubW91c2Vkb3duPSJldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyIgb250b3VjaHN0YXJ0PSJldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyIgY2xhc3M9InRleHQgdHNfaW5wdXQiIGlkPSJ0c19pbnB1dCIgYXV0b2NvbXBsZXRlPSJvZmYiIG5hbWU9ImRpc2FibGUtYXV0b2ZpbGwiIHBsYWNlaG9sZGVyPSJTZWFyY2giIGFyaWEtbGFiZWw9IlNlYXJjaCIgLz4KPC9kaXY+PC9kaXY+CiAgPGRpdiBjbGFzcz0iaGVhZF9uYXZfaXRlbSBmbF9sIGhlYWRfbmF2X2J0bnMiPjxzcGFuIGlkPSJ0b3BfYXVkaW9fbGF5ZXJfcGxhY2UiPjwvc3Bhbj48L2Rpdj4KICA8ZGl2IGNsYXNzPSJoZWFkX25hdl9pdGVtIGZsX3IiPjxhIGNsYXNzPSJ0b3BfbmF2X2xpbmsiIGhyZWY9IiIgaWQ9InRvcF9zd2l0Y2hfbGFuZyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IiBvbmNsaWNrPSJhamF4LnBvc3QoJ2FsX2luZGV4LnBocCcsIHthY3Q6ICdjaGFuZ2VfbGFuZycsIGxhbmdfaWQ6IDMsIGhhc2g6ICcnIH0pOyByZXR1cm4gZmFsc2U7IiBvbm1vdXNlZG93bj0idG5BY3RpdmUodGhpcykiPgogIFN3aXRjaCB0byBFbmdsaXNoCjwvYT48YSBjbGFzcz0idG9wX25hdl9saW5rIiBocmVmPSIvam9pbiIgaWQ9InRvcF9yZWdfbGluayIgc3R5bGU9IiIgb25jbGljaz0icmV0dXJuICFzaG93Qm94KCdqb2luLnBocCcsIHthY3Q6ICdib3gnLCBmcm9tOiBuYXYuc3RyTG9jfSwge30sIGV2ZW50KSIgb25tb3VzZWRvd249InRuQWN0aXZlKHRoaXMpIj4KICBzaWduIHVwCjwvYT48L2Rpdj4KICA8ZGl2IGNsYXNzPSJoZWFkX25hdl9pdGVtX3BsYXllciI+PC9kaXY+CjwvZGl2Pgo8ZGl2IGlkPSJ0c19jb250X3dyYXAiIGNsYXNzPSJ0c19jb250X3dyYXAiIG9udG91Y2hzdGFydD0iZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTsiIG9ubW91c2Vkb3duPSJldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+CgogIDxkaXYgaWQ9InBhZ2VfbGF5b3V0IiBzdHlsZT0id2lkdGg6IDk2MHB4OyI+CiAgICA8ZGl2IGlkPSJzaWRlX2JhciIgY2xhc3M9ImZsX2wgIiBzdHlsZT0iIj4KICAgICAgPGRpdiBpZD0ic2lkZV9iYXJfaW5uZXIiIGNsYXNzPSJzaWRlX2Jhcl9pbm5lciI+CiAgICAgICAgPGRpdiBpZD0icXVpY2tfbG9naW4iIGNsYXNzPSJxdWlja19sb2dpbiI+CiAgPGZvcm0gbWV0aG9kPSJQT1NUIiBuYW1lPSJsb2dpbiIgaWQ9InF1aWNrX2xvZ2luX2Zvcm0iIGFjdGlvbj0iaHR0cHM6Ly9sb2dpbi52ay5jb20vP2FjdD1sb2dpbiI+CiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhY3QiIHZhbHVlPSJsb2dpbiIgLz4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InJvbGUiIHZhbHVlPSJhbF9mcmFtZSIgLz4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImV4cGlyZSIgaWQ9InF1aWNrX2V4cGlyZV9pbnB1dCIgdmFsdWU9IiIgLz4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImNhcHRjaGFfc2lkIiBpZD0icXVpY2tfY2FwdGNoYV9zaWQiIHZhbHVlPSIiIC8+CiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJjYXB0Y2hhX2tleSIgaWQ9InF1aWNrX2NhcHRjaGFfa2V5IiB2YWx1ZT0iIiAvPgogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iX29yaWdpbiIgdmFsdWU9Imh0dHBzOi8vdmsuY29tIiAvPgogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iaXBfaCIgdmFsdWU9Ijg3ZTUxMGE1NjRiYTJmNDhmMCIgLz4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImxnX2giIHZhbHVlPSIxNzJjMmRlOTJhOWI3NTZhYzQiIC8+CiAgICA8ZGl2IGNsYXNzPSJsYWJlbCI+UGhvbmUgb3IgZW1haWw8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImxhYmVsZWQiPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJlbWFpbCIgY2xhc3M9ImRhcmsiIGlkPSJxdWlja19lbWFpbCIgLz48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImxhYmVsIj5QYXNzd29yZDwvZGl2PgogICAgPGRpdiBjbGFzcz0ibGFiZWxlZCI+PGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzIiBjbGFzcz0iZGFyayIgaWQ9InF1aWNrX3Bhc3MiIG9ua2V5dXA9InRvZ2dsZSgncXVpY2tfZXhwaXJlJywgISF0aGlzLnZhbHVlKTt0b2dnbGUoJ3F1aWNrX2ZvcmdvdCcsICF0aGlzLnZhbHVlKSIgLz48L2Rpdj4KICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIGNsYXNzPSJzdWJtaXQiIC8+CiAgPC9mb3JtPgogIDxidXR0b24gY2xhc3M9InF1aWNrX2xvZ2luX2J1dHRvbiBmbGF0X2J1dHRvbiBidXR0b25fd2lkZSIgaWQ9InF1aWNrX2xvZ2luX2J1dHRvbiI+TG9nIGluPC9idXR0b24+CiAgPGJ1dHRvbiBjbGFzcz0icXVpY2tfcmVnX2J1dHRvbiBmbGF0X2J1dHRvbiBidXR0b25fd2lkZSIgaWQ9InF1aWNrX3JlZ19idXR0b24iIHN0eWxlPSIiIG9uY2xpY2s9InRvcC5zaG93Qm94KCdqb2luLnBocCcsIHthY3Q6ICdib3gnLCBmcm9tOiBuYXYuc3RyTG9jfSkiPlNpZ24gdXA8L2J1dHRvbj4KICA8ZGl2IGNsYXNzPSJjbGVhciBmb3Jnb3QiPjxkaXYgY2xhc3M9ImNoZWNrYm94IiBpZD0icXVpY2tfZXhwaXJlIiBvbmNsaWNrPSJjaGVja2JveCh0aGlzKTtnZSgncXVpY2tfZXhwaXJlX2lucHV0JykudmFsdWU9aXNDaGVja2VkKHRoaXMpPzE6Jyc7Ij5Eb24mIzM5O3QgcmVtZW1iZXIgbWU8L2Rpdj48YSBpZD0icXVpY2tfZm9yZ290IiBjbGFzcz0icXVpY2tfZm9yZ290IiBocmVmPSIvcmVzdG9yZSIgdGFyZ2V0PSJfdG9wIj5Gb3Jnb3QgeW91ciBwYXNzd29yZD88L2E+PC9kaXY+CjwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxkaXYgaWQ9InBhZ2VfYm9keSIgY2xhc3M9ImZsX3IgIiBzdHlsZT0id2lkdGg6IDc5NXB4OyI+CiAgICAgIDxkaXYgaWQ9ImhlYWRlcl93cmFwMiI+CiAgICAgICAgPGRpdiBpZD0iaGVhZGVyX3dyYXAxIj4KICAgICAgICAgIDxkaXYgaWQ9ImhlYWRlciIgc3R5bGU9ImRpc3BsYXk6IG5vbmUiPgogICAgICAgICAgICA8aDEgaWQ9InRpdGxlIj48L2gxPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGlkPSJ3cmFwX2JldHdlZW4iPjwvZGl2PgogICAgICA8ZGl2IGlkPSJ3cmFwMyI+PGRpdiBpZD0id3JhcDIiPgogIDxkaXYgaWQ9IndyYXAxIj4KICAgIDxkaXYgaWQ9ImNvbnRlbnQiPjxkaXYgY2xhc3M9Im1lc3NhZ2VfcGFnZSBwYWdlX2Jsb2NrIj4KICA8ZGl2IGNsYXNzPSJtZXNzYWdlX3BhZ2VfdGl0bGUiPkVycm9yPC9kaXY+CiAgPGRpdiBjbGFzcz0ibWVzc2FnZV9wYWdlX2JvZHkiPgogICAgQWNjZXNzIGRlbmllZAogICAgPGJ1dHRvbiBjbGFzcz0iZmxhdF9idXR0b24gbWVzc2FnZV9wYWdlX2J0biIgaWQ9Im1zZ19iYWNrX2J1dHRvbiI+QmFjazwvYnV0dG9uPgogIDwvZGl2Pgo8L2Rpdj48L2Rpdj4KICA8L2Rpdj4KPC9kaXY+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGlkPSJmb290ZXJfd3JhcCIgY2xhc3M9ImZvb3Rlcl93cmFwIGZsX3IiIHN0eWxlPSJ3aWR0aDogNzk1cHg7Ij48ZGl2IGNsYXNzPSJmb290ZXJfbmF2IiBpZD0iYm90dG9tX25hdiI+CiAgPGRpdiBjbGFzcz0iZm9vdGVyX2NvcHkgZmxfbCI+PGEgaHJlZj0iL2Fib3V0Ij5WSzwvYT4gJmNvcHk7IDIwMTY8L2Rpdj4KICA8ZGl2IGNsYXNzPSJmb290ZXJfbGFuZyBmbF9yIj5MYW5ndWFnZTo8YSBjbGFzcz0iZm9vdGVyX2xhbmdfbGluayIgb25jbGljaz0iYWpheC5wb3N0KCdhbF9pbmRleC5waHAnLCB7YWN0OiAnY2hhbmdlX2xhbmcnLCBsYW5nX2lkOiAzLCBoYXNoOiAnYTcwZjAxYjM2YzM1OTkyNThhJ30pIj5FbmdsaXNoPC9hPjxhIGNsYXNzPSJmb290ZXJfbGFuZ19saW5rIiBvbmNsaWNrPSJhamF4LnBvc3QoJ2FsX2luZGV4LnBocCcsIHthY3Q6ICdjaGFuZ2VfbGFuZycsIGxhbmdfaWQ6IDAsIGhhc2g6ICdhNzBmMDFiMzZjMzU5OTI1OGEnfSkiPtDz8fHq6Ok8L2E+PGEgY2xhc3M9ImZvb3Rlcl9sYW5nX2xpbmsiIG9uY2xpY2s9ImFqYXgucG9zdCgnYWxfaW5kZXgucGhwJywge2FjdDogJ2NoYW5nZV9sYW5nJywgbGFuZ19pZDogMSwgaGFzaDogJ2E3MGYwMWIzNmMzNTk5MjU4YSd9KSI+0+rw4L/t8fzq4DwvYT48YSBjbGFzcz0iZm9vdGVyX2xhbmdfbGluayIgb25jbGljaz0iaWYgKHZrLmFsKSB7IHNob3dCb3goJ2xhbmcucGhwJywge2FjdDogJ2xhbmdfZGlhbG9nJywgYWxsOiAxfSwge3BhcmFtczoge2Rhcms6IHRydWUsIGJvZHlTdHlsZTogJ3BhZGRpbmc6IDBweCd9LCBub3JlbG9hZDogdHJ1ZX0pOyB9IGVsc2UgeyBjaGFuZ2VMYW5nKDEpOyB9IHJldHVybiBmYWxzZTsiPmFsbCBsYW5ndWFnZXMguzwvYT48L2Rpdj4KICA8ZGl2IGNsYXNzPSJmb290ZXJfbGlua3MiPgogICAgPGEgY2xhc3M9ImJuYXZfYSIgaHJlZj0iL2Fib3V0Ij5hYm91dDwvYT4KICAgIDxhIGNsYXNzPSJibmF2X2EiIGhyZWY9Ii9zdXBwb3J0P2FjdD1ob21lIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPmhlbHA8L2E+CiAgICA8YSBjbGFzcz0iYm5hdl9hIiBocmVmPSIvdGVybXMiPnRlcm1zPC9hPgogICAgPGEgY2xhc3M9ImJuYXZfYSIgaHJlZj0iL2FkcyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij5hZHZlcnRpc2luZzwvYT4KICAgIAogICAgPGEgY2xhc3M9ImJuYXZfYSIgaHJlZj0iL2RldiI+ZGV2ZWxvcGVyczwvYT4KICAgIDxhIGNsYXNzPSJibmF2X2EiIGhyZWY9Ii9qb2JzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPmpvYnM8L2E+CiAgPC9kaXY+CjwvZGl2PgoKPGRpdiBjbGFzcz0iZm9vdGVyX2JlbmNoIGNsZWFyIj4KICAKPC9kaXY+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+CiAgPC9kaXY+CjwvZGl2PjwvZGl2Pjxub3NjcmlwdD48ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMDAwMHB4OyI+CjxpbWcgc3JjPSIvL3RvcC1md3oxLm1haWwucnUvY291bnRlcj9pZD0yNTc5NDM3O2pzPW5hIiBzdHlsZT0iYm9yZGVyOjA7IiBoZWlnaHQ9IjEiIHdpZHRoPSIxIiAvPgo8L2Rpdj48L25vc2NyaXB0PjwvZGl2PgogIDxkaXYgY2xhc3M9InByb2dyZXNzIiBpZD0iZ2xvYmFsX3ByZyI+PC9kaXY+CgogIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGlmIChwYXJlbnQgJiYgcGFyZW50ICE9IHdpbmRvdyAmJiAoYnJvd3Nlci5tc2llIHx8IGJyb3dzZXIub3BlcmEgfHwgYnJvd3Nlci5tb3ppbGxhIHx8IGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuc2FmYXJpIHx8IGJyb3dzZXIuaXBob25lKSkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmlubmVySFRNTCA9ICcnOwogICAgfSBlbHNlIHsKICAgICAgZG9tUmVhZHkoKTsKICAgICAgdXBkYXRlTW9uZXkoMCk7CmlmIChicm93c2VyLmlwaG9uZSB8fCBicm93c2VyLmlwYWQgfHwgYnJvd3Nlci5pcG9kKSB7CiAgc2V0U3R5bGUoYm9keU5vZGUsIHt3ZWJraXRUZXh0U2l6ZUFkanVzdDogJ25vbmUnfSk7Cn12YXIgcWYgPSBnZSgncXVpY2tfbG9naW5fZm9ybScpLCBxbCA9IGdlKCdxdWlja19sb2dpbicpLCBxZSA9IGdlKCdxdWlja19lbWFpbCcpLCBxcCA9IGdlKCdxdWlja19wYXNzJyk7CnZhciBxbGIgPSBnZSgncXVpY2tfbG9naW5fYnV0dG9uJyksIHByZ0J0biA9IHFsYjsKCnZhciBxaW5pdCA9IGZ1bmN0aW9uKCkgewogIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICBxbC5pbnNlcnRCZWZvcmUoY2UoJ2RpdicsIHtpbm5lckhUTUw6ICc8aWZyYW1lIGNsYXNzPSJ1cGxvYWRfZnJhbWUiIGlkPSJxdWlja19sb2dpbl9mcmFtZSIgbmFtZT0icXVpY2tfbG9naW5fZnJhbWUiPjwvaWZyYW1lPid9KSwgcWYpOwogICAgcWYudGFyZ2V0ID0gJ3F1aWNrX2xvZ2luX2ZyYW1lJzsKICB9LCAxKTsKfQoKaWYgKHdpbmRvdy50b3AgJiYgd2luZG93LnRvcCAhPSB3aW5kb3cpIHsKICB3aW5kb3cub25sb2FkID0gcWluaXQ7Cn0gZWxzZSB7CiAgc2V0VGltZW91dChxaW5pdCwgMCk7Cn0KCnFmLm9uc3VibWl0ID0gZnVuY3Rpb24oKSB7CiAgaWYgKCFnZSgncXVpY2tfbG9naW5fZnJhbWUnKSkgcmV0dXJuIGZhbHNlOwogIGlmICghdHJpbShxZS52YWx1ZSkpIHsKICAgIG5vdGFCZW5lKHFlKTsKICAgIHJldHVybiBmYWxzZTsKICB9IGVsc2UgaWYgKCF0cmltKHFwLnZhbHVlKSkgewogICAgbm90YUJlbmUocXApOwogICAgcmV0dXJuIGZhbHNlOwogIH0KICBsb2NrQnV0dG9uKHdpbmRvdy5fX3FmQnRuID0gcHJnQnRuKTsKICBwcmdCdG4gPSBxbGI7CiAgY2xlYXJUaW1lb3V0KF9fcWxUaW1lcik7CiAgX19xbFRpbWVyID0gc2V0VGltZW91dChsb2dpblN1Ym1pdEVycm9yLCAzMDAwMCk7CiAgZG9tRkMoZG9tUFMocWYpKS5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgIGNsZWFyVGltZW91dChfX3FsVGltZXIpOwogICAgX19xbFRpbWVyID0gc2V0VGltZW91dChsb2dpblN1Ym1pdEVycm9yLCAyNTAwKTsKICB9CiAgcmV0dXJuIHRydWU7Cn0KCndpbmRvdy5sb2dpblN1Ym1pdEVycm9yID0gZnVuY3Rpb24oKSB7CiAgc2hvd0Zhc3RCb3goJ1dhcm5pbmcnLCAnVW5hYmxlIHRvIGNvbXBsZXRlIGVuY3J5cHRlZCBhdXRob3JpemF0aW9uLiBUaGlzIGNhbiBoYXBwZW4gaWYgeW91ciBkYXRlIGFuZCB0aW1lIHNldHRpbmdzIGFyZSBub3QgY29uZmlndXJlZCBjb3JyZWN0bHkgb24geW91ciBzeXN0ZW0uIFBsZWFzZSBjaGVjayB5b3VyIGRhdGUgJmFtcDsgdGltZSBzZXR0aW5ncyBhbmQgcmVzdGFydCB0aGUgYnJvd3Nlci4nKTsKfQp3aW5kb3cuZm9jdXNMb2dpbklucHV0ID0gZnVuY3Rpb24oKSB7CiAgc2Nyb2xsVG9Ub3AoMCk7CiAgbm90YUJlbmUoJ3F1aWNrX2VtYWlsJyk7Cn0Kd2luZG93LmNoYW5nZVF1aWNrUmVnQnV0dG9uID0gZnVuY3Rpb24obm9TaG93KSB7CiAgaWYgKG5vU2hvdykgewogICAgaGlkZSgndG9wX3JlZ19saW5rJywgJ3F1aWNrX3JlZ19idXR0b24nKTsKICB9IGVsc2UgewogICAgc2hvdygndG9wX3JlZ19saW5rJywgJ3F1aWNrX3JlZ19idXR0b24nKTsKICB9CiAgdG9nZ2xlKCd0b3Bfc3dpdGNoX2xhbmcnLCBub1Nob3cgJiYgd2luZG93LmxhbmdDb25maWcgJiYgd2luZG93LmxhbmdDb25maWcuaWQgIT0gMyk7Cn0Kd2luZG93LnN1Ym1pdFF1aWNrTG9naW5Gb3JtID0gZnVuY3Rpb24oZW1haWwsIHBhc3MsIG9wdHMpIHsKICBzZXRRdWlja0xvZ2luRGF0YShlbWFpbCwgcGFzcywgb3B0cyk7CiAgaWYgKG9wdHMgJiYgb3B0cy5wcmcpIHByZ0J0biA9IG9wdHMucHJnOwogIGlmIChxZi5vbnN1Ym1pdCgpKSBxZi5zdWJtaXQoKTsKfQp3aW5kb3cuc2V0UXVpY2tMb2dpbkRhdGEgPSBmdW5jdGlvbihlbWFpbCwgcGFzcywgb3B0cykgewogIGlmIChlbWFpbCAhPT0gdW5kZWZpbmVkKSBnZSgncXVpY2tfZW1haWwnKS52YWx1ZSA9IGVtYWlsOwogIGlmIChwYXNzICE9PSB1bmRlZmluZWQpIGdlKCdxdWlja19wYXNzJykudmFsdWUgPSBwYXNzOwogIHZhciBwYXJhbXMgPSBvcHRzICYmIG9wdHMucGFyYW1zIHx8IHt9OwogIGVhY2ggKHBhcmFtcywgZnVuY3Rpb24oaSwgdikgewogICAgdmFyIGVsID0gZ2UoJ3F1aWNrXycgKyBpKSB8fCBnZSgncXVpY2tfbG9naW5fJyArIGkpOzsKICAgIGlmIChlbCkgewogICAgICB2YWwoZWwsIHBhcmFtc1tpXSk7CiAgICB9IGVsc2UgewogICAgICBxZi5hcHBlbmRDaGlsZChjZSgnaW5wdXQnLCB7dHlwZTogJ2hpZGRlbicsIG5hbWU6IGksIGlkOiAncXVpY2tfbG9naW5fJyArIGksIHZhbHVlOiB2fSkpOwogICAgfQogIH0pOwp9CgppZiAocWxiKSB7CiAgcWxiLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsgaWYgKHFmLm9uc3VibWl0KCkpIHFmLnN1Ym1pdCgpOyB9Owp9CgppZiAoYnJvd3Nlci5vcGVyYV9tb2JpbGUpIHNob3coJ3F1aWNrX2V4cGlyZScpOwoKaWYgKDEpIHsKICBoaWRlKCdzdXBwb3J0X2xpbmtfdGQnLCAndG9wX3N1cHBvcnRfbGluaycpOwp9CnZhciB0c19pbnB1dCA9IGdlKCd0c19pbnB1dCcpOwppZiAodHNfaW5wdXQpIHsKICBwbGFjZWhvbGRlclNldHVwKHRzX2lucHV0LCB7YmFjazogZmFsc2UsIHJlbG9hZDogdHJ1ZSwgcGhDb2xvcjogJyM4ZmFkYzgnfSk7Cn0KVG9wU2VhcmNoLmluaXQoKTs7c2hvcnRDdXJyZW5jeSgpOwpzZXRUaW1lb3V0KHpOYXYucGJpbmQoe30sIHtxdWV1ZToxfSksIDApOwpoYW5kbGVQYWdlUGFyYW1zKHsiaWQiOjAsInBhZHMiOjEsIm5vX2FkcyI6MSwibG9jIjoiP2FjdD1zJm9pZD0zOTU3NjIyMyZ2aWQ9MTY2MzE1NTQzIiwid3JhcF9wYWdlIjoxLCJ3aWR0aCI6OTYwLCJ3aWR0aF9kZWMiOjE2NSwid2lkdGhfZGVjX2Zvb3RlciI6MTY1LCJib2R5X2NsYXNzIjoiIiwiY291bnRlcnMiOiIiLCJwdmJpZyI6MCwicHZkYXJrIjoxfSk7YWRkRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIG9uRG9jdW1lbnRDbGljayk7CmFkZExhbmdLZXlzKHsiZ2xvYmFsX2FwcHMiOiJBcHBzIiwiZ2xvYmFsX2ZyaWVuZHMiOiJGcmllbmRzIiwiZ2xvYmFsX2NvbW11bml0aWVzIjoiQ29tbXVuaXRpZXMiLCJoZWFkX3NlYXJjaF9yZXN1bHRzIjoiU2VhcmNoIHJlc3VsdHMiLCJnbG9iYWxfY2hhdHMiOiJDb252ZXJzYXRpb25zIiwiZ2xvYmFsX3Nob3dfYWxsX3Jlc3VsdHMiOiJTaG93IGFsbCByZXN1bHRzIiwiZ2xvYmFsX25ld3Nfc2VhcmNoX3Jlc3VsdHMiOiJTZWFyY2ggcmVzdWx0cyBieSBuZXdzIiwiZ2xvYmFsX2Vtb2ppX2NhdF9yZWNlbnQiOiJGcmVxdWVudGx5IFVzZWQiLCJnbG9iYWxfZW1vamlfY2F0XzEiOiJGYWNlcyIsImdsb2JhbF9lbW9qaV9jYXRfMiI6IkFuaW1hbHMgJmFtcDsgTmF0dXJlIiwiZ2xvYmFsX2Vtb2ppX2NhdF8zIjoiSGFuZHMgJmFtcDsgUGVvcGxlIiwiZ2xvYmFsX2Vtb2ppX2NhdF80IjoiRm9vZCAmYW1wOyBEcmlua3MiLCJnbG9iYWxfZW1vamlfY2F0XzUiOiJBY3Rpdml0eSIsImdsb2JhbF9lbW9qaV9jYXRfNiI6IlRyYXZlbCAmYW1wOyBUcmFuc3BvcnQiLCJnbG9iYWxfZW1vamlfY2F0XzciOiJPYmplY3RzIiwiZ2xvYmFsX2Vtb2ppX2NhdF84IjoiU3ltYm9scyIsImdsb2JhbF9lbW9qaV9jYXRfOSI6IkZsYWdzIn0sIHRydWUpOwphZGRUZW1wbGF0ZXMoeyJfIjoiXyJ9KTt1aVNlYXJjaC5pbml0KCd2aWRlb19zZWFyY2hfaW5wdXQnLCB7IG9uRmlsdGVyUmVtb3ZlZDpWaWRlby5vbkZpbHRlclJlbW92ZWQsaXNOZXc6IDEsc3VnZ2VzdGVyOnsidHlwZSI6InZpZGVvIiwiaGlzdG9yeSI6MCwic2F2ZUhhc2giOiJiMmM5YTFhZWFlYWI3MTA2MTEifSxwYXJhbXM6eyJodG1sIjoiICA8ZGl2IGNsYXNzPVwidmlkZW9fc2VhcmNoX2ZpbHRlcnNfd3JhcFwiPlxuICAgIDxkaXYgaWQ9XCJ1aV9zZWFyY2hfZmx0cl9wcm9ncmVzc1wiIGNsYXNzPVwidWlfc2VhcmNoX2ZsdHJfcHJvZ3Jlc3MgZmxfclwiPjxcL2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJ1aV9zZWFyY2hfZmx0cl9sYWJlbFwiPkJ5IGR1cmF0aW9uPFwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ1aV9zZWFyY2hfZmx0cl9zZWxcIj48aW5wdXQgaWQ9XCJ2aWRlb19mbHRyX2xlblwiIGNsYXNzPVwidGV4dCB1aV9zZWFyY2hfZmx0cl9maWVsZFwiIFwvPjxcL2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJ1aV9zZWFyY2hfZmx0cl9sYWJlbFwiPkJ5IGRhdGU8XC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInVpX3NlYXJjaF9mbHRyX3NlbFwiPjxpbnB1dCBpZD1cInZpZGVvX2ZsdHJfZGF0ZVwiIGNsYXNzPVwidGV4dCB1aV9zZWFyY2hfZmx0cl9maWVsZFwiIFwvPjxcL2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJ1aV9zZWFyY2hfZmx0cl9sYWJlbFwiPk9yZGVyPFwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ1aV9zZWFyY2hfZmx0cl9zZWxcIj48aW5wdXQgaWQ9XCJ2aWRlb19mbHRyX29yZGVyXCIgY2xhc3M9XCJ0ZXh0IHVpX3NlYXJjaF9mbHRyX2ZpZWxkXCIgXC8+PFwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cImNoZWNrYm94XCIgaWQ9XCJ2aWRlb19mbHRyX2hkXCIgb25jbGljaz1cInJldHVybiBjaGVja2JveCh0aGlzKTtcIj48ZGl2PjxcL2Rpdj5IaWdoLWRlZmluaXRpb24gb25seTxcL2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2hlY2tib3hcIiBpZD1cInZpZGVvX2ZsdHJfbm90c2FmZVwiIG9uY2xpY2s9XCJyZXR1cm4gY2hlY2tib3godGhpcyk7XCI+PGRpdj48XC9kaXY+Tm8gcmVzdHJpY3Rpb25zPFwvZGl2PlxuICA8XC9kaXY+Iiwic2NyaXB0IjoiVmlkZW8uaW5pdEZpbHRlcnMoKSJ9IH0pO2dlKCdtc2dfYmFja19idXR0b24nKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgaGlzdG9yeS5nbygtMSk7Cn07CjsoZnVuY3Rpb24gKGQsIHcpIHsKdmFyIHRzID0gZC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsgdHMudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOyB0cy5hc3luYyA9IHRydWU7CnRzLnNyYyA9IChkLmxvY2F0aW9uLnByb3RvY29sID09ICJodHRwczoiID8gImh0dHBzOiIgOiAiaHR0cDoiKSArICIvL3RvcC1md3oxLm1haWwucnUvanMvY29kZS5qcyI7CnZhciBmID0gZnVuY3Rpb24gKCkge3ZhciBzID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodHMsIHMpO307CmlmICh3Lm9wZXJhID09ICJbb2JqZWN0IE9wZXJhXSIpIHsgZC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZiwgZmFsc2UpOyB9IGVsc2UgeyBmKCk7IH0KfSkoZG9jdW1lbnQsIHdpbmRvdyk7CiAgICB9CiAgPC9zY3JpcHQ+CjwvYm9keT4KCjwvaHRtbD4=
    http_version: 
  recorded_at: Mon, 12 Dec 2016 07:16:07 GMT
- request:
    method: post
    uri: https://vk.com/al_video.php
    body:
      encoding: US-ASCII
      string: User-Agent=VideoInfo%2F2.7&act=show&al=1&autoplay=0&module=profile&video=39576223_166315543
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Mozilla/5.0 (Linux; VideoInfo)
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Apache
      Date:
      - Mon, 27 Mar 2017 20:31:46 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '98'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.12333
      Set-Cookie:
      - remixlang=3; expires=Sun, 25 Mar 2018 00:46:22 GMT; path=/; domain=.vk.com
      Pragma:
      - no-cache
      Cache-Control:
      - no-store
      Strict-Transport-Security:
      - max-age=0
    body:
      encoding: ASCII-8BIT
      string: "<!--3326840723228<!><!>3<!>3704<!>8<!>Access denied (5)<!><!>57459663<!><!pageview_candidate>"
    http_version: 
  recorded_at: Mon, 27 Mar 2017 20:31:46 GMT
- request:
    method: get
    uri: http://vk.com/video39576223_166315543
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Mozilla/5.0 (Linux; VideoInfo)
      - Ruby
      Host:
      - vk.com
  response:
    status:
      code: 302
      message: Found
    headers:
      Server:
      - Apache
      Date:
      - Mon, 27 Mar 2017 20:35:45 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '20'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.12333
      Set-Cookie:
      - remixlang=3; expires=Sat, 24 Mar 2018 21:06:56 GMT; path=/; domain=.vk.com
      Pragma:
      - no-cache
      Cache-Control:
      - no-store
      Location:
      - https://vk.com/video39576223_166315543
    body:
      encoding: ASCII-8BIT
      string: ''
    http_version: 
  recorded_at: Mon, 27 Mar 2017 20:35:45 GMT
- request:
    method: get
    uri: http://vk.com:443/video39576223_166315543
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Mozilla/5.0 (Linux; VideoInfo)
      - Ruby
      Host:
      - vk.com
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Server:
      - Apache
      Date:
      - Mon, 27 Mar 2017 20:35:46 GMT
      Content-Type:
      - text/html
      Content-Length:
      - '267'
      Connection:
      - close
    body:
      encoding: UTF-8
      string: "<html>\r\n<head><title>400 The plain HTTP request was sent to HTTPS
        port</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<center>The
        plain HTTP request was sent to HTTPS port</center>\r\n<hr><center> Apache
        </center>\r\n</body>\r\n</html>\r\n"
    http_version: 
  recorded_at: Mon, 27 Mar 2017 20:35:46 GMT
- request:
    method: post
    uri: https://vk.com/al_video.php
    body:
      encoding: US-ASCII
      string: User-Agent=VideoInfo%2F2.7&act=show&al=1&autoplay=0&module=profile&video=39576223_166315543
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Mozilla/5.0 (Linux; VideoInfo)
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Apache
      Date:
      - Mon, 27 Mar 2017 20:35:46 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '98'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.12333
      Set-Cookie:
      - remixlang=3; expires=Sat, 31 Mar 2018 13:32:47 GMT; path=/; domain=.vk.com
      Pragma:
      - no-cache
      Cache-Control:
      - no-store
      Strict-Transport-Security:
      - max-age=0
    body:
      encoding: ASCII-8BIT
      string: "<!--3326840723228<!><!>3<!>3704<!>8<!>Access denied (5)<!><!>57459663<!><!pageview_candidate>"
    http_version: 
  recorded_at: Mon, 27 Mar 2017 20:35:47 GMT
recorded_with: VCR 3.0.3
